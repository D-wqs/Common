webpackJsonp([0],{464:function(e,n,o){o(470),o(471);var t=o(1)(o(465),o(473),"data-v-0773047a",null);e.exports=t.exports},465:function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=o(466),a=o.n(t),r=o(61),i=o(242),s=(o(21),o(241));o.n(s);n.default={data:function(){return{btntxt:"获取验证码",time:0,loading:!1,account:{loginname:"",password:"",phone:"",vertificationcode:"",phonebyuser:""},rules:{loginname:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},checked:!0}},methods:{checkPhone:function(e,n){var o=this,t={loginname:o.account.loginname};r.a.findByLoginname(t).then(function(e){o.account.phonebyuser=e.data.phone}),e!=o.account.phonebyuser&&n(new Error("该手机号与用户不符")),n()},sendMsg:function(){console.log("发送短信验证码");var e=this;if(11==e.account.phone.length&&/^(((13[0-9]{1})|(14[0-9]{1})|(15[0-9]{1})|(16[0-9]{1})|(18[0-9]{1})|(17[0-9]{1})|(19[0-9]{1}))+\d{8})$/.test(e.account.phone)){var n={phone:e.account.phone};r.a.phone(n).then(function(n){e.$message.success({showClose:!0,message:"发送成功",duration:2e3});var o=window.setInterval(function(){e.time--<=0&&(e.time=60,window.clearInterval(o))},1e3)}).catch(function(n){n.response&&e.$message.error({showClose:!0,message:"发送失败！",duration:2e3})})}else e.$message.error({showClose:!0,message:"请输入有效的手机号",duration:2e3})},handleLogin:function(){var e=this,n=this;this.$refs.AccountFrom.validate(function(t){if(t){e.loading=!0;var s={loginname:e.account.loginname,password:e.account.password,phone:e.account.phone,vertificationcode:e.account.vertificationcode};r.a.login(s).then(function(e){console.log(e),n.loading=!1,e?(o.i(i.a)("token",e.data.token,1),localStorage.setItem("access-user",a()(e)),n.$router.push({path:"/"})):n.$message.error({showClose:!0,message:e.errmsg||"登录失败",duration:2e3})}).catch(function(e){1==!!e&&(n.loading=!1,console.log(e),n.$message.error({showClose:!0,message:"请求出现异常",duration:2e3}))})}})}}}},466:function(e,n,o){e.exports={default:o(467),__esModule:!0}},467:function(e,n,o){var t=o(8),a=t.JSON||(t.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},468:function(e,n,o){n=e.exports=o(462)(),n.push([e.i,"html{width:100%;height:100%;background:url("+o(472)+") top no-repeat;background-size:100% 100%}","",{version:3,sources:["G:/si_vue_web/src/components/Login.vue"],names:[],mappings:"AACA,KAEE,WAAY,AACZ,YAAa,AACb,uDAAkE,AAClE,yBAA0B,CAK3B",file:"Login.vue",sourcesContent:["\nhtml {\n  /* position: absolute; */\n  width: 100%;\n  height: 100%;\n  background: url(../assets/images/banner.jpg) top center no-repeat;\n  background-size:100% 100%;\n  /* background-repeat: repeat-y; */\n  \n  /* background-position-x: center;\n  background-position-y: center */\n}\n\n"],sourceRoot:""}])},469:function(e,n,o){n=e.exports=o(462)(),n.push([e.i,".login-container[data-v-0773047a]{border-radius:5px;-moz-border-radius:5px;background-clip:padding-box;margin-top:20%;position:absolute;left:40%;width:15%;padding:2% 1% 1%;border:1px solid #eaeaea;box-shadow:0 0 25px #cac6c6;background:-o-linear-gradient(top,#ace,#00c1de)}.login-container .title[data-v-0773047a]{margin:0 auto 30px;text-align:center;color:#fff}.login-container .remember[data-v-0773047a]{margin:0 0 35px}","",{version:3,sources:["G:/si_vue_web/src/components/Login.vue"],names:[],mappings:"AAEA,kCAEE,kBAAmB,AACnB,uBAAwB,AACxB,4BAA6B,AAC7B,eAAgB,AAChB,kBAAmB,AACnB,SAAU,AACV,UAAW,AACX,iBAAqB,AACrB,yBAA0B,AAC1B,4BAA6B,AAK7B,+CAAmD,CAEpD,AACD,yCACI,mBAA2B,AAC3B,kBAAmB,AACnB,UAAa,CAChB,AACD,4CACI,eAAyB,CAC5B",file:"Login.vue",sourcesContent:['\n@charset "UTF-8";\n.login-container[data-v-0773047a] {\n  /*box-shadow: 0 0px 8px 0 rgba(0, 0, 0, 0.06), 0 1px 0px 0 rgba(0, 0, 0, 0.02);*/\n  border-radius: 5px;\n  -moz-border-radius: 5px;\n  background-clip: padding-box;\n  margin-top: 20%;\n  position: absolute;\n  left: 40%;\n  width: 15%;\n  padding: 2% 1% 1% 1%;\n  border: 1px solid #eaeaea;\n  box-shadow: 0 0 25px #cac6c6;\n  /* IE 10 */\n  /*火狐*/\n  /*谷歌*/\n  /*Safari5.1 Chrome 10+*/\n  background: -o-linear-gradient(top, #ace, #00C1DE);\n  /*Opera 11.10+*/\n}\n.login-container .title[data-v-0773047a] {\n    margin: 0px auto 30px auto;\n    text-align: center;\n    color: white;\n}\n.login-container .remember[data-v-0773047a] {\n    margin: 0px 0px 35px 0px;\n}\n'],sourceRoot:""}])},470:function(e,n,o){var t=o(468);"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);o(463)("a99c8472",t,!0)},471:function(e,n,o){var t=o(469);"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);o(463)("58caa2d4",t,!0)},472:function(e,n,o){e.exports=o.p+"static/img/banner.502bdce.jpg"},473:function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("el-form",{ref:"AccountFrom",staticClass:"demo-ruleForm login-container",attrs:{model:e.account,rules:e.rules,"label-position":"left","label-width":"0px"}},[o("h3",{staticClass:"title"},[e._v("管理员登录")]),e._v(" "),o("el-form-item",{attrs:{prop:"loginname"}},[o("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.account.loginname,callback:function(n){e.$set(e.account,"loginname",n)},expression:"account.loginname"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.account.password,callback:function(n){e.$set(e.account,"password",n)},expression:"account.password"}})],1),e._v(" "),o("el-form-item",{staticStyle:{width:"100%"}},[o("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(n){return n.preventDefault(),e.handleLogin(n)}}},[e._v("登录")])],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=0.5f303579da4fa206d6e4.js.map