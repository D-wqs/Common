{"version":3,"sources":["webpack:///static/js/0.5f303579da4fa206d6e4.js","webpack:///./src/components/Login.vue","webpack:///Login.vue","webpack:///./~/babel-runtime/core-js/json/stringify.js","webpack:///./~/core-js/library/fn/json/stringify.js","webpack:///./src/components/Login.vue?9085","webpack:///./src/components/Login.vue?098e","webpack:///./src/components/Login.vue?b68d","webpack:///./src/components/Login.vue?3538","webpack:///./src/assets/images/banner.jpg","webpack:///./src/components/Login.vue?eda2"],"names":["webpackJsonp","464","module","exports","__webpack_require__","Component","465","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_1__api_api_user_js__","__WEBPACK_IMPORTED_MODULE_2__cookie_js__","__WEBPACK_IMPORTED_MODULE_4_axios__","data","btntxt","time","loading","account","loginname","password","phone","vertificationcode","phonebyuser","rules","required","message","trigger","checked","methods","checkPhone","val","callback","self","this","params","findByLoginname","then","result","Error","sendMsg","console","log","length","test","param","response","$message","success","showClose","duration","interval","window","setInterval","clearInterval","catch","err","error","handleLogin","_this","that","$refs","AccountFrom","validate","valid","loginParams","login","res","i","token","localStorage","setItem","$router","push","path","errmsg","466","default","__esModule","467","core","$JSON","JSON","stringify","it","apply","arguments","468","version","sources","names","mappings","file","sourcesContent","sourceRoot","469","470","content","locals","471","472","p","473","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","model","label-position","label-width","_v","prop","type","auto-complete","placeholder","$$v","$set","expression","staticStyle","width","nativeOn","click","$event","preventDefault","staticRenderFns"],"mappings":"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","file":"static/js/0.5f303579da4fa206d6e4.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 464:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(470)\n__webpack_require__(471)\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(465),\n  /* template */\n  __webpack_require__(473),\n  /* scopeId */\n  \"data-v-0773047a\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 465:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(466);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_api_user_js__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__cookie_js__ = __webpack_require__(242);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__router_index__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_axios__ = __webpack_require__(241);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_axios__);\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      btntxt: \"获取验证码\",\n\n      time: 0,\n\n      loading: false,\n      account: {\n        loginname: '',\n        password: '',\n        phone: '',\n        vertificationcode: '',\n        phonebyuser: ''\n\n      },\n\n      rules: {\n        loginname: [{\n          required: true,\n          message: '请输入账号',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }]\n      },\n      checked: true\n    };\n  },\n\n  methods: {\n    checkPhone: function checkPhone(val, callback) {\n\n      var self = this;\n      var params = {\n        loginname: self.account.loginname\n      };\n\n      __WEBPACK_IMPORTED_MODULE_1__api_api_user_js__[\"a\" /* default */].findByLoginname(params).then(function (result) {\n        self.account.phonebyuser = result.data.phone;\n      });\n\n      if (val != self.account.phonebyuser) {\n        callback(new Error('该手机号与用户不符'));\n      }\n\n      callback();\n    },\n    sendMsg: function sendMsg() {\n      console.log(\"发送短信验证码\");\n      var self = this;\n\n      if (self.account.phone.length == 11 && /^(((13[0-9]{1})|(14[0-9]{1})|(15[0-9]{1})|(16[0-9]{1})|(18[0-9]{1})|(17[0-9]{1})|(19[0-9]{1}))+\\d{8})$/.test(self.account.phone)) {\n        var param = {\n          'phone': self.account.phone\n        };\n        __WEBPACK_IMPORTED_MODULE_1__api_api_user_js__[\"a\" /* default */].phone(param).then(function (response) {\n\n          self.$message.success({\n            showClose: true,\n            message: '发送成功',\n            duration: 2000\n          });\n\n          var interval = window.setInterval(function () {\n            if (self.time-- <= 0) {\n              self.time = 60;\n\n              window.clearInterval(interval);\n            }\n          }, 1000);\n        }).catch(function (err) {\n          if (err.response) {\n            self.$message.error({\n              showClose: true,\n              message: '发送失败！',\n              duration: 2000\n            });\n          }\n        });\n      } else {\n        self.$message.error({\n          showClose: true,\n          message: '请输入有效的手机号',\n          duration: 2000\n        });\n      }\n    },\n    handleLogin: function handleLogin() {\n      var _this = this;\n\n      var that = this;\n      this.$refs.AccountFrom.validate(function (valid) {\n        if (valid) {\n          _this.loading = true;\n          var loginParams = {\n            loginname: _this.account.loginname,\n            password: _this.account.password,\n            phone: _this.account.phone,\n            vertificationcode: _this.account.vertificationcode\n          };\n\n\n          __WEBPACK_IMPORTED_MODULE_1__api_api_user_js__[\"a\" /* default */].login(loginParams).then(function (res) {\n            console.log(res);\n            that.loading = false;\n            if (res) {\n              __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__cookie_js__[\"a\" /* setCookie */])('token', res.data.token, 1);\n              localStorage.setItem('access-user', __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(res));\n\n\n              that.$router.push({\n                path: '/'\n              });\n            } else {\n              that.$message.error({\n                showClose: true,\n                message: res.errmsg || '登录失败',\n                duration: 2000\n              });\n            }\n          }).catch(function (error) {\n            if (!!error == true) {\n              that.loading = false;\n              console.log(error);\n              that.$message.error({\n                showClose: true,\n                message: '请求出现异常',\n                duration: 2000\n              });\n            }\n          });\n        }\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 466:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(467), __esModule: true };\n\n/***/ }),\n\n/***/ 467:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar core = __webpack_require__(8);\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n/***/ }),\n\n/***/ 468:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(462)();\n// imports\n\n\n// module\nexports.push([module.i, \"html{width:100%;height:100%;background:url(\" + __webpack_require__(472) + \") top no-repeat;background-size:100% 100%}\", \"\", {\"version\":3,\"sources\":[\"G:/si_vue_web/src/components/Login.vue\"],\"names\":[],\"mappings\":\"AACA,KAEE,WAAY,AACZ,YAAa,AACb,uDAAkE,AAClE,yBAA0B,CAK3B\",\"file\":\"Login.vue\",\"sourcesContent\":[\"\\nhtml {\\n  /* position: absolute; */\\n  width: 100%;\\n  height: 100%;\\n  background: url(../assets/images/banner.jpg) top center no-repeat;\\n  background-size:100% 100%;\\n  /* background-repeat: repeat-y; */\\n  \\n  /* background-position-x: center;\\n  background-position-y: center */\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 469:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(462)();\n// imports\n\n\n// module\nexports.push([module.i, \".login-container[data-v-0773047a]{border-radius:5px;-moz-border-radius:5px;background-clip:padding-box;margin-top:20%;position:absolute;left:40%;width:15%;padding:2% 1% 1%;border:1px solid #eaeaea;box-shadow:0 0 25px #cac6c6;background:-o-linear-gradient(top,#ace,#00c1de)}.login-container .title[data-v-0773047a]{margin:0 auto 30px;text-align:center;color:#fff}.login-container .remember[data-v-0773047a]{margin:0 0 35px}\", \"\", {\"version\":3,\"sources\":[\"G:/si_vue_web/src/components/Login.vue\"],\"names\":[],\"mappings\":\"AAEA,kCAEE,kBAAmB,AACnB,uBAAwB,AACxB,4BAA6B,AAC7B,eAAgB,AAChB,kBAAmB,AACnB,SAAU,AACV,UAAW,AACX,iBAAqB,AACrB,yBAA0B,AAC1B,4BAA6B,AAK7B,+CAAmD,CAEpD,AACD,yCACI,mBAA2B,AAC3B,kBAAmB,AACnB,UAAa,CAChB,AACD,4CACI,eAAyB,CAC5B\",\"file\":\"Login.vue\",\"sourcesContent\":[\"\\n@charset \\\"UTF-8\\\";\\n.login-container[data-v-0773047a] {\\n  /*box-shadow: 0 0px 8px 0 rgba(0, 0, 0, 0.06), 0 1px 0px 0 rgba(0, 0, 0, 0.02);*/\\n  border-radius: 5px;\\n  -moz-border-radius: 5px;\\n  background-clip: padding-box;\\n  margin-top: 20%;\\n  position: absolute;\\n  left: 40%;\\n  width: 15%;\\n  padding: 2% 1% 1% 1%;\\n  border: 1px solid #eaeaea;\\n  box-shadow: 0 0 25px #cac6c6;\\n  /* IE 10 */\\n  /*火狐*/\\n  /*谷歌*/\\n  /*Safari5.1 Chrome 10+*/\\n  background: -o-linear-gradient(top, #ace, #00C1DE);\\n  /*Opera 11.10+*/\\n}\\n.login-container .title[data-v-0773047a] {\\n    margin: 0px auto 30px auto;\\n    text-align: center;\\n    color: white;\\n}\\n.login-container .remember[data-v-0773047a] {\\n    margin: 0px 0px 35px 0px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 470:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(468);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(463)(\"a99c8472\", content, true);\n\n/***/ }),\n\n/***/ 471:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(469);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(463)(\"58caa2d4\", content, true);\n\n/***/ }),\n\n/***/ 472:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/img/banner.502bdce.jpg\";\n\n/***/ }),\n\n/***/ 473:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-form', {\n    ref: \"AccountFrom\",\n    staticClass: \"demo-ruleForm login-container\",\n    attrs: {\n      \"model\": _vm.account,\n      \"rules\": _vm.rules,\n      \"label-position\": \"left\",\n      \"label-width\": \"0px\"\n    }\n  }, [_c('h3', {\n    staticClass: \"title\"\n  }, [_vm._v(\"管理员登录\")]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"loginname\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"text\",\n      \"auto-complete\": \"off\",\n      \"placeholder\": \"账号\"\n    },\n    model: {\n      value: (_vm.account.loginname),\n      callback: function($$v) {\n        _vm.$set(_vm.account, \"loginname\", $$v)\n      },\n      expression: \"account.loginname\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"password\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\",\n      \"auto-complete\": \"off\",\n      \"placeholder\": \"密码\"\n    },\n    model: {\n      value: (_vm.account.password),\n      callback: function($$v) {\n        _vm.$set(_vm.account, \"password\", $$v)\n      },\n      expression: \"account.password\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticStyle: {\n      \"width\": \"100%\"\n    }\n  }, [_c('el-button', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"type\": \"primary\",\n      \"loading\": _vm.loading\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        return _vm.handleLogin($event)\n      }\n    }\n  }, [_vm._v(\"登录\")])], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/0.5f303579da4fa206d6e4.js","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-0773047a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-0773047a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=1!./Login.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0773047a\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"),\n  /* scopeId */\n  \"data-v-0773047a\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Login.vue\n// module id = 464\n// module chunks = 0","<template>\r\n  <!-- <div class=\"login\"> -->\r\n      <el-form ref=\"AccountFrom\" :model=\"account\" :rules=\"rules\" label-position=\"left\" label-width=\"0px\" class=\"demo-ruleForm login-container\">\r\n        <h3 class=\"title\">管理员登录</h3>\r\n        <el-form-item prop=\"loginname\">\r\n          <el-input type=\"text\" v-model=\"account.loginname\" auto-complete=\"off\" placeholder=\"账号\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"password\">\r\n          <el-input type=\"password\" v-model=\"account.password\" auto-complete=\"off\" placeholder=\"密码\"></el-input>\r\n        </el-form-item>\r\n\r\n\r\n        <!-- <el-form-item prop=\"phone\">\r\n          <el-input v-model=\"account.phone\" auto-complete=\"off\" placeholder=\"请输入手机号\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"vertificationcode\">\r\n          <el-input v-model=\"account.vertificationcode\" style=\"width:170px\" auto-complete=\"off\" placeholder=\"请输入短信验证码\"></el-input>\r\n          <el-button type=\"primary\"   @click=\"sendMsg\">{{btntxt}}</el-button>\r\n        </el-form-item> -->\r\n\r\n\r\n\r\n        <!--<el-checkbox v-model=\"checked\" checked class=\"remember\">记住密码</el-checkbox>-->\r\n        <el-form-item style=\"width:100%;\">\r\n          <el-button type=\"primary\" style=\"width:100%;\" @click.native.prevent=\"handleLogin\" :loading=\"loading\">登录</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n  <!-- </div> -->\r\n</template>\r\n\r\n\r\n\r\n<script>\r\n  import userServer from '../api/api_user.js';\r\n  import {\r\n    setCookie,\r\n    delCookie,\r\n    getCookie\r\n  } from '../cookie.js'\r\n  import router2 from '../router/index';\r\n  import { powerRouter} from '../router/index';\r\n  import { powerRouterObj} from '../router/index';\r\nimport Axios from 'axios';\r\n  export default {\r\n    \r\n    data() {\r\n      // let userphone = (rule, value, callback) => {\r\n      //    if (!value) return callback(new Error('请输入手机号'))\r\n      //   // if (value.length > 50) return callback(new Error('序列号最多50个字符'))\r\n      //   this.checkPhone(value, callback)\r\n      //   // 在此处将callback传到验证方法中\r\n      // }\r\n      return {\r\n        btntxt:\"获取验证码\",\r\n        \r\n        time:0,\r\n\r\n        loading: false,\r\n        account: {\r\n          loginname: '',\r\n          password: '',\r\n          phone: '',\r\n          vertificationcode: '',\r\n          phonebyuser: '',\r\n       \r\n        },\r\n\r\n\r\n\r\n\r\n        rules: {\r\n          loginname: [{\r\n              required: true,\r\n              message: '请输入账号',\r\n              trigger: 'blur'\r\n            },\r\n            //{ validator: validaePass }\r\n          ],\r\n          password: [{\r\n              required: true,\r\n              message: '请输入密码',\r\n              trigger: 'blur'\r\n            },\r\n            //{ validator: validaePass2 }\r\n          ],\r\n          // phone: [\r\n          //   {validator: userphone, trigger: 'blur'}\r\n          // ]\r\n          \r\n        },\r\n        checked: true\r\n      };\r\n    },\r\n    methods: {\r\n\r\n      checkPhone(val, callback) {  // 此方法不能用async,原因未知\r\n        \r\n        // this.users.forEach(item => {\r\n        //     //console.log(item.jamip)\r\n        //     if(val==item.loginname){\r\n        //       console.log(\"这个登陆名被占用，换一个吧\")\r\n        //       callback(new Error('这个登陆名被占用，换一个吧'))\r\n        //     }\r\n    \r\n        //   });\r\n\r\n        let self=this;\r\n        let params={\r\n          loginname:self.account.loginname\r\n        };\r\n        \r\n        \r\n        userServer.findByLoginname(params).then(function (result) {\r\n          //let x = result.data\r\n          self.account.phonebyuser=result.data.phone\r\n          // console.log(\"输入手机号\",val)\r\n          // console.log(\"用户手机号\",x.phone)\r\n          // if (val!=x.phone) {\r\n          //   callback(new Error('该手机号与用户不符'))\r\n          // }\r\n        });\r\n        //console.log(self.account.phonebyuser)\r\n        if(val!=self.account.phonebyuser){\r\n          callback(new Error('该手机号与用户不符'))\r\n        }\r\n\r\n        // console.log(this.account.loginname)\r\n        // console.log(val)\r\n         callback()\r\n      },\r\n\r\n\r\n      sendMsg(){\r\n        console.log(\"发送短信验证码\")\r\n        let self = this;\r\n        \r\n        if (self.account.phone.length == 11 &&\r\n          /^(((13[0-9]{1})|(14[0-9]{1})|(15[0-9]{1})|(16[0-9]{1})|(18[0-9]{1})|(17[0-9]{1})|(19[0-9]{1}))+\\d{8})$/\r\n          .test(self.account.phone)) {\r\n\r\n              //let url = 'http://101.37.169.215:8080/user/phone'\r\n              let param = {\r\n                'phone': self.account.phone\r\n              };\r\n              userServer.phone(param).then(response => {\r\n\r\n                  self.$message.success({\r\n                    showClose: true,\r\n                    message: '发送成功',\r\n                    duration: 2000\r\n                  });\r\n\r\n                  let interval = window.setInterval(function () {\r\n                    if ((self.time--) <= 0) {\r\n                      self.time = 60;\r\n                      // self.btntxt=self.time+\"s,后重新获取验证码\";\r\n                      window.clearInterval(interval);\r\n                    }\r\n                  }, 1000);\r\n\r\n                }).catch(err => {\r\n                  if (err.response) {\r\n                     self.$message.error({\r\n                        showClose: true,\r\n                        message: '发送失败！',\r\n                        duration: 2000\r\n                      })\r\n                  }\r\n                });\r\n\r\n\r\n        } else {\r\n          self.$message.error({\r\n            showClose: true,\r\n            message: '请输入有效的手机号',\r\n            duration: 2000\r\n          })\r\n        }\r\n      },\r\n\r\n\r\n      handleLogin() {\r\n        let that = this;\r\n        this.$refs.AccountFrom.validate((valid) => {\r\n          if (valid) {\r\n            this.loading = true;\r\n            let loginParams = {\r\n              loginname: this.account.loginname,\r\n              password: this.account.password,\r\n              phone:this.account.phone,\r\n              vertificationcode: this.account.vertificationcode\r\n              //nickname:1\r\n            };\r\n            // this.$http.post('http://127.0.0.1:8585/user/login',{'loginname':'18923885815','password':'123456'},{emulateJSON:true}).then((res)=>{\r\n            //   console.log(111111111)\r\n            //   console.log(res)\r\n            // }).catch((error) => {\r\n            //   console.log(2222222)\r\n            //   console.log(error)\r\n            // })\r\n            \r\n\r\n            userServer.login(loginParams).then(function (res) {\r\n              console.log(res)\r\n              that.loading = false;\r\n              if (res) {\r\n                setCookie('token', res.data.token, 1)\r\n                localStorage.setItem('access-user', JSON.stringify(res));\r\n                //                that.$store.commit('SET_ROUTERS', user.permissions)\r\n                //                that.$router.addRoutes(that.$store.getters.addRouters);\r\n                //                that.$router.options.routes = that.$store.getters.routers;\r\n                \r\n                that.$router.push({\r\n                  path: '/'\r\n                });\r\n                //that.$router.push({ path: 'register', query: { plan: 'private' }})\r\n              } else {\r\n                that.$message.error({\r\n                  showClose: true,\r\n                  message: res.errmsg || '登录失败',\r\n                  duration: 2000\r\n                });\r\n              }\r\n            }).catch(error => {\r\n              if (!!error == true) {\r\n                that.loading = false;\r\n                console.log(error);\r\n                that.$message.error({\r\n                  showClose: true,\r\n                  message: '请求出现异常',\r\n                  duration: 2000\r\n                });\r\n              }\r\n            });\r\n\r\n          }\r\n        });\r\n      },\r\n\r\n\r\n      \r\n\r\n\r\n\r\n      \r\n\r\n\r\n\r\n\r\n    }\r\n  }\r\n\r\n</script>\r\n<style>\r\n  html {\r\n    /* position: absolute; */\r\n    width: 100%;\r\n    height: 100%;\r\n    background: url(../assets/images/banner.jpg) top center no-repeat;\r\n    background-size:100% 100%;\r\n    /* background-repeat: repeat-y; */\r\n    \r\n    /* background-position-x: center;\r\n    background-position-y: center */\r\n    \r\n  }\r\n\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n// .login{\r\n//   width: 100%;\r\n//   height: 100%;\r\n// }\r\n  .login-container {\r\n    /*box-shadow: 0 0px 8px 0 rgba(0, 0, 0, 0.06), 0 1px 0px 0 rgba(0, 0, 0, 0.02);*/\r\n    -webkit-border-radius: 5px;\r\n    border-radius: 5px;\r\n    -moz-border-radius: 5px;\r\n    background-clip: padding-box;\r\n    // margin: 260px auto;\r\n    // margin-top: 400px;\r\n    margin-top: 20%;\r\n    // margin-left: 700px;\r\n    \r\n    // position:relative;\r\n    position:absolute;\r\n    left: 40%;\r\n    //width: 300px;\r\n    width: 15%;\r\n    \r\n    //min-width: 200px;\r\n    // padding: 20px 25px 5px 25px;\r\n    padding: 2% 1% 1% 1%;\r\n    //background: #fff;\r\n    border: 1px solid #eaeaea;\r\n    box-shadow: 0 0 25px #cac6c6;\r\n    background: -ms-linear-gradient(top, #ace, #00C1DE);\r\n    /* IE 10 */\r\n    background: -moz-linear-gradient(top, #ace, #00C1DE);\r\n    /*火狐*/\r\n    background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#ace), to(#00C1DE));\r\n    /*谷歌*/\r\n    background: -webkit-linear-gradient(top, #ace, #00C1DE);\r\n    /*Safari5.1 Chrome 10+*/\r\n    background: -o-linear-gradient(top, #ace, #00C1DE);\r\n    /*Opera 11.10+*/\r\n    .title {\r\n      margin: 0px auto 30px auto;\r\n      text-align: center;\r\n      // color: #505458;\r\n      color: white;\r\n    }\r\n    .remember {\r\n      margin: 0px 0px 35px 0px;\r\n    }\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// Login.vue?5f621b46","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/json/stringify.js\n// module id = 466\n// module chunks = 0","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/json/stringify.js\n// module id = 467\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"html{width:100%;height:100%;background:url(\" + require(\"../assets/images/banner.jpg\") + \") top no-repeat;background-size:100% 100%}\", \"\", {\"version\":3,\"sources\":[\"G:/si_vue_web/src/components/Login.vue\"],\"names\":[],\"mappings\":\"AACA,KAEE,WAAY,AACZ,YAAa,AACb,uDAAkE,AAClE,yBAA0B,CAK3B\",\"file\":\"Login.vue\",\"sourcesContent\":[\"\\nhtml {\\n  /* position: absolute; */\\n  width: 100%;\\n  height: 100%;\\n  background: url(../assets/images/banner.jpg) top center no-repeat;\\n  background-size:100% 100%;\\n  /* background-repeat: repeat-y; */\\n  \\n  /* background-position-x: center;\\n  background-position-y: center */\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-0773047a\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Login.vue\n// module id = 468\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".login-container[data-v-0773047a]{border-radius:5px;-moz-border-radius:5px;background-clip:padding-box;margin-top:20%;position:absolute;left:40%;width:15%;padding:2% 1% 1%;border:1px solid #eaeaea;box-shadow:0 0 25px #cac6c6;background:-o-linear-gradient(top,#ace,#00c1de)}.login-container .title[data-v-0773047a]{margin:0 auto 30px;text-align:center;color:#fff}.login-container .remember[data-v-0773047a]{margin:0 0 35px}\", \"\", {\"version\":3,\"sources\":[\"G:/si_vue_web/src/components/Login.vue\"],\"names\":[],\"mappings\":\"AAEA,kCAEE,kBAAmB,AACnB,uBAAwB,AACxB,4BAA6B,AAC7B,eAAgB,AAChB,kBAAmB,AACnB,SAAU,AACV,UAAW,AACX,iBAAqB,AACrB,yBAA0B,AAC1B,4BAA6B,AAK7B,+CAAmD,CAEpD,AACD,yCACI,mBAA2B,AAC3B,kBAAmB,AACnB,UAAa,CAChB,AACD,4CACI,eAAyB,CAC5B\",\"file\":\"Login.vue\",\"sourcesContent\":[\"\\n@charset \\\"UTF-8\\\";\\n.login-container[data-v-0773047a] {\\n  /*box-shadow: 0 0px 8px 0 rgba(0, 0, 0, 0.06), 0 1px 0px 0 rgba(0, 0, 0, 0.02);*/\\n  border-radius: 5px;\\n  -moz-border-radius: 5px;\\n  background-clip: padding-box;\\n  margin-top: 20%;\\n  position: absolute;\\n  left: 40%;\\n  width: 15%;\\n  padding: 2% 1% 1% 1%;\\n  border: 1px solid #eaeaea;\\n  box-shadow: 0 0 25px #cac6c6;\\n  /* IE 10 */\\n  /*火狐*/\\n  /*谷歌*/\\n  /*Safari5.1 Chrome 10+*/\\n  background: -o-linear-gradient(top, #ace, #00C1DE);\\n  /*Opera 11.10+*/\\n}\\n.login-container .title[data-v-0773047a] {\\n    margin: 0px auto 30px auto;\\n    text-align: center;\\n    color: white;\\n}\\n.login-container .remember[data-v-0773047a] {\\n    margin: 0px 0px 35px 0px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-0773047a\",\"scoped\":true,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=1!./src/components/Login.vue\n// module id = 469\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-0773047a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Login.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"a99c8472\", content, true);\n\n\n// WEBPACK FOOTER //\n// \"}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-0773047a\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Login.vue","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-0773047a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=1!./Login.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"58caa2d4\", content, true);\n\n\n// WEBPACK FOOTER //\n// \"}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-0773047a\",\"scoped\":true,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=1!./src/components/Login.vue","module.exports = __webpack_public_path__ + \"static/img/banner.502bdce.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/banner.jpg\n// module id = 472\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-form', {\n    ref: \"AccountFrom\",\n    staticClass: \"demo-ruleForm login-container\",\n    attrs: {\n      \"model\": _vm.account,\n      \"rules\": _vm.rules,\n      \"label-position\": \"left\",\n      \"label-width\": \"0px\"\n    }\n  }, [_c('h3', {\n    staticClass: \"title\"\n  }, [_vm._v(\"管理员登录\")]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"loginname\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"text\",\n      \"auto-complete\": \"off\",\n      \"placeholder\": \"账号\"\n    },\n    model: {\n      value: (_vm.account.loginname),\n      callback: function($$v) {\n        _vm.$set(_vm.account, \"loginname\", $$v)\n      },\n      expression: \"account.loginname\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"password\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\",\n      \"auto-complete\": \"off\",\n      \"placeholder\": \"密码\"\n    },\n    model: {\n      value: (_vm.account.password),\n      callback: function($$v) {\n        _vm.$set(_vm.account, \"password\", $$v)\n      },\n      expression: \"account.password\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticStyle: {\n      \"width\": \"100%\"\n    }\n  }, [_c('el-button', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"type\": \"primary\",\n      \"loading\": _vm.loading\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        return _vm.handleLogin($event)\n      }\n    }\n  }, [_vm._v(\"登录\")])], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0773047a\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Login.vue\n// module id = 473\n// module chunks = 0"],"sourceRoot":""}